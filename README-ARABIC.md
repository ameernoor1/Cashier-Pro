# 💰 كاش برو - نظام الكاشير الاحترافي

## 🎯 نظرة عامة

**كاش برو** هو نظام كاشير احترافي متكامل يوفر تجربة استخدام سلسة مع نظام اشتراكات ذكي.

### المميزات الرئيسية:
✨ صفحة ترحيبية جذابة
✨ نظام اشتراكات (مجاني، شهري، سنوي)  
✨ معرفات فريدة لكل مستخدم (UUID)
✨ تجميد تلقائي للوظائف بعد انتهاء الاشتراك
✨ قاعدة بيانات Firebase سحابية
✨ لوحة تحكم للمدير
✨ نظام رموز تفعيل احترافي

---

## 📁 الملفات

### الملفات الأساسية:
1. **landing.html** - الصفحة الترحيبية (نقطة البداية)
2. **register.html** - تسجيل المستخدم الجديد  
3. **app.html** - التطبيق الرئيسي (نظام الكاشير)
4. **admin.html** - لوحة المدير (إدارة الرموز)

### الملفات المساعدة:
5. **firebase-config.js** - إعدادات Firebase
6. **subscription-manager.js** - نظام الاشتراكات

---

## 🚀 البدء السريع

### الخطوة 1: إعداد Firebase

1. انتقل إلى [Firebase Console](https://console.firebase.google.com/)
2. أنشئ مشروع جديد
3. فعّل "Realtime Database"
4. انسخ بيانات التكوين

### الخطوة 2: تحديث الإعدادات

افتح `firebase-config.js` واستبدل:

```javascript
const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
};
```

### الخطوة 3: التشغيل

ارفع جميع الملفات إلى استضافة ويب أو شغلها محلياً.

**ابدأ من:** `landing.html`

---

## 💳 خطط الاشتراك

### 🎁 التجريبية المجانية
- **المدة:** 30 يوم
- **السعر:** مجاناً
- **المميزات:** جميع المميزات متاحة

### ⚡ الاشتراك الشهري  
- **المدة:** 30 يوم
- **السعر:** 25,000 دينار عراقي
- **المميزات:** بدون حدود + دعم أولوية

### 👑 الاشتراك السنوي
- **المدة:** 365 يوم  
- **السعر:** 225,000 دينار عراقي
- **الوفورات:** وفر 75,000 دينار (3 أشهر مجاناً)

---

## 🔄 مسار المستخدم

```
1. landing.html (اختيار الخطة)
        ↓
2. register.html (إدخال البيانات)
        ↓  
3. app.html (استخدام النظام)
```

### عند انتهاء الاشتراك:
```
┌─────────────────────────────────────┐
│       ⏰ انتهى اشتراكك!           │
│                                     │
│  [إدخال رمز التفعيل]              │
│  [تفعيل] أو [شراء جديد]          │
└─────────────────────────────────────┘
```

---

## 🔑 نظام رموز التفعيل

### إنشاء رمز (في admin.html):
1. اختر النوع (شهري/سنوي)
2. اضغط "إنشاء رمز"
3. انسخ الرمز

### تفعيل رمز (في app.html):
1. ادخل الرمز عند ظهور نافذة التجديد
2. اضغط "تفعيل الاشتراك"

**صيغة الرموز:**
- شهري: `MONTHLY-XXXXXXXXXXXX`
- سنوي: `YEARLY-XXXXXXXXXXXX`

---

## 📊 قاعدة البيانات Firebase

```
firebase-database/
├── users/
│   └── USER-{id}/
│       ├── userId
│       ├── name
│       ├── phone
│       ├── country
│       ├── city
│       ├── street
│       ├── subscription/
│       │   ├── type (free/monthly/yearly)
│       │   ├── status (free/active/expired)
│       │   ├── start
│       │   ├── end
│       │   └── daysLeft
│       ├── createdAt
│       └── lastLogin
└── subscriptionCodes/
    └── {CODE}/
        ├── type
        ├── duration
        ├── used
        ├── usedBy
        └── createdAt
```

---

## ⚙️ التخصيص السريع

### تغيير الأسعار:

في `landing.html`:
```html
<!-- شهري -->
<div class="plan-price">25,000</div>

<!-- سنوي -->
<div class="plan-price">225,000</div>
```

### تغيير مدة التجربة:

في `firebase-config.js`:
```javascript
// من 30 يوم إلى 60 يوم
const subscriptionEnd = new Date(now.getTime() + 60 * 24 * 60 * 60 * 1000);
```

### إضافة دول:

في `register.html`:
```html
<select id="userCountry">
    <option value="الدولة الجديدة">الدولة الجديدة</option>
</select>
```

---

## 🔒 الحماية والأمان

### مستويات الحماية:
1. ✅ التحقق من userId
2. ✅ التحقق من صلاحية الاشتراك  
3. ✅ تجميد الوظائف عند الانتهاء
4. ✅ حماية البيانات في Firebase

### قواعد Firebase المقترحة:

```json
{
  "rules": {
    "users": {
      "$userId": {
        ".read": true,
        ".write": true
      }
    },
    "subscriptionCodes": {
      ".read": true,
      ".write": true
    }
  }
}
```

> ⚠️ للإنتاج: قم بتشديد القواعد وإضافة المصادقة

---

## 🐛 حل المشاكل

### المشكلة: الصفحة لا تعمل
**الحل:**  
✓ تأكد من رفع جميع الملفات
✓ افحص إعدادات Firebase
✓ افتح Console للتحقق من الأخطاء

### المشكلة: التسجيل لا يعمل
**الحل:**
✓ تأكد من تفعيل Realtime Database
✓ تحقق من قواعد Firebase (Read/Write)
✓ افحص الاتصال بالإنترنت

### المشكلة: رمز التفعيل غير صالح
**الحل:**
✓ تأكد من وجود الرمز في admin.html
✓ تأكد أن الرمز غير مستخدم
✓ اكتب الرمز بالشكل الصحيح (كبيرة/صغيرة)

---

## 📱 التوافق

النظام يعمل على:
- ✅ Chrome, Firefox, Safari, Edge
- ✅ الهواتف المحمولة (iOS & Android)
- ✅ الأجهزة اللوحية

---

## 📞 الدعم

للمساعدة:
1. راجع قسم "حل المشاكل"
2. افحص Console في المتصفح
3. تحقق من Firebase Console
4. راجع التوثيق الرسمي

---

## 📝 ملاحظات مهمة

### للمطورين:
⚠️ لا تشارك بيانات Firebase
⚠️ اختبر قبل النشر
⚠️ احتفظ بنسخ احتياطية

### للمستخدمين:
✓ احتفظ برموز التفعيل
✓ جدد مبكراً
✓ استخدم النسخ الاحتياطي

---

## 🎨 المميزات المتقدمة

### ما يميز "كاش برو":

1. **واجهة عصرية** - تصميم جذاب وسهل الاستخدام
2. **نظام ذكي** - تجميد تلقائي وحماية شاملة
3. **سحابي** - بياناتك محفوظة ومتزامنة
4. **احترافي** - نظام رموز متقدم
5. **مرن** - خطط تناسب الجميع

---

## 🚀 الإصدارات المستقبلية

خطط التطوير:
- [ ] بوابة دفع إلكتروني
- [ ] تطبيق موبايل أصلي
- [ ] تقارير متقدمة
- [ ] نظام SMS للإشعارات
- [ ] واجهة API

---

## 📄 الترخيص

هذا النظام مفتوح للاستخدام الشخصي والتجاري.

---

## ✨ الاعتمادات

تم البناء باستخدام:
- HTML5, CSS3, JavaScript
- Tailwind CSS
- Font Awesome  
- Firebase Realtime Database

---

## 🖥️ تثبيت التطبيق على سطح المكتب (PWA)

يمكنك تثبيت تطبيق كاش برو على جهازك كبرنامج سطح مكتب بسهولة:

1. افتح التطبيق من خلال رابط الاستضافة أو الخادم المحلي (يفضل استخدام Live Server أو رفعه على GitHub Pages).
2. عند فتح التطبيق في متصفح Chrome أو Edge أو أي متصفح حديث، ستظهر أيقونة التثبيت في شريط العنوان أو قائمة الخيارات.
3. اضغط على "تثبيت التطبيق" وسيتم إضافته إلى سطح المكتب ويمكنك تشغيله كبرنامج مستقل.

**ملاحظة:**
- يجب تشغيل التطبيق من رابط (http://localhost أو رابط استضافة)، وليس من الملفات المحلية مباشرة (file://).
- التطبيق يدعم التثبيت بفضل ملفات manifest.json و service-worker.js المضافة.

---

**🎉 مبروك! أنت الآن جاهز لإطلاق نظام كاش برو**

للبدء: افتح `landing.html` في المتصفح

---

© 2025 كاش برو. جميع الحقوق محفوظة.

**صنع بـ 💜 في العراق**
